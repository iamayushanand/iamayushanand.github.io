---
layout: default
title: fiitjee stats
---
<html>
	<head>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<style>
			#id-input{
				width: 60%;
				margin-left: 20%;
				margin-bottom:10px;
			}

			form{
				margin-bottom: 15px;
			}
		</style>
	</head>
	<body>
	<h1>Welcome to FIITJEE Statistics page created by Ayush Anand</h1>

	<form role="form">
		<input type="text" id="id-input" class="form-control" placeholder="Type your id number with prefix 9170... and then press enter">
		<input type="button" value="see your stats" onclick="return apicall()">
	</form>
	<div id="profilePic" align="center">

	</div>
	<div id="RankGraph"></div>
			<script>
			function apicall(){
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange=function(){
					if (xhttp.readyState == 4 && xhttp.status == 200) {

						success = true;
						results = (JSON.parse(xhttp.responseText));
						process(results);

					}
				};
				xhttp.open("GET", 'http://iamayushanand.github.io/Stats.json', true);
				xhttp.send();
			}
			function process(results){
				var trace1 = {
		  			x: [1, 2, 3],
		    			y: results['students'][document.getElementById('id-input').value],
		      			type: 'scatter'
		      			};

		      $('#profilePic').html("<img class='img-thumbnail' height='150' width='150' src="+results['images'][document.getElementById('id-input').value]+"> </img>");
					$('#profilePic').html("<H2>"+results['names'][document.getElementById('id-input').value]+"</H2>");
					var data = [trace1];

					Plotly.newPlot('RankGraph', data);
			}

		</script>

		<!--	<img id="loading-gif" src="http://iamayushanand.github.io/assets/images/load.svg" alt=""></img> --!>

	</body>
</html>
